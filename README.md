# Creating a React App

To create a new React app, you can use `npx create-react-app` command, followed by the name of your app. For example: `npx create-react-app my-app`


This will create a new directory called `my-app` with a basic React project structure.

Once the installation process is complete, navigate into the new project directory with `cd my-app` and run `npm start` or `yarn start` to launch the development server and start the app in your browser.

You can then edit the files in the `src` directory to build your app.

# Testing the App on Local Host

To test your React app on a local host, you can follow these steps:

1. Navigate to the project directory using the command line.
2. Start the development server using `npm start` or `yarn start`.
3. Open your web browser and visit `http://localhost:3000/` to view the app.

Note: The `3000` port number may vary based on your local environment and configuration. The development server will automatically reload the page in your browser whenever you make changes to the code, making it easier to test and iterate on your app during the development process.

# Setting up the Project on Github

To set up a React project on Github, you can follow these steps:

1. Create a new repository on Github by clicking the "New repository" button on your Github dashboard.
2. Give your repository a name and an optional description, then click the "Create repository" button.
3. In the command line, navigate to the project directory of your React app.
4. Initialize a Git repository by running `git init`.
5. Add the remote repository to your local Git repository by running `git remote add origin <repository URL>`, where `<repository URL>` is the URL of the repository you created on Github.
6. Add all files in your project to the Git staging area by running `git add .`.
7. Commit your changes to the local Git repository by running `git commit -m "Initial commit"`.
8. Push the changes from your local Git repository to the remote repository on Github by running `git push -u origin master`.

Your React app is now set up in a Github repository and ready for version control and collaboration.

# Creating a Netlify Application

To create a Netlify application out of your React app, you can follow these steps:

1. Create a new account or log in to your existing Netlify account.
2. Click the "New site from Git" button.
3. Connect your Github account to Netlify and select the repository that contains your React app.
4. Configure the build settings for your application. The build command should be `npm run build` or `yarn build`, and the publish directory should be `build`.
5. Click the "Deploy site" button to trigger an initial deployment of your app to Netlify.

Your React app will now be hosted on Netlify and accessible at a unique URL generated by Netlify. Whenever you push changes to your Github repository, Netlify will automatically rebuild and deploy your app. This allows you to easily host and share your app with others without having to worry about server setup and maintenance.


## React-Netlify Harness CI Pipeline

This pipeline is used for building and deploying a React application to Netlify. The BUILD pipeline has four stages:

1. **RestoreCacheGCS**: This stage restores the node module dependencies cache from a GCS bucket.
2. **Install and Build React**: This stage installs the required node modules and builds the React application.
3. **Save node_modules cache**: This stage saves the node module dependencies cache to a GCS bucket.
4. **Deploy**: This stage deploys the built application to Netlify using the `netlify-cli` tool. The access token and site ID are passed as environment variables `NETLIFY_ACCESS_TOKEN` and `NETLIFY_SITE_ID` respectively.

```plaintext
pipeline:
  name: react-netlify
  identifier: reactnetlify
  projectIdentifier: NgLabs
  orgIdentifier: default
  tags: {}
  properties:
    ci:
      codebase:
        connectorRef: account.gitforronak
        repoName: ronakforgit/react-netlify-harness
        build: <+input>
  stages:
    - stage:
        identifier: build4343
        type: CI
        name: setup
        spec:
          cloneCodebase: true
          platform:
            os: Linux
            arch: Amd64
          runtime:
            type: Cloud
            spec: {}
          execution:
            steps:
              - step:
                  identifier: restorenodecache
                  type: RestoreCacheGCS
                  name: restore-node-cache
                  spec:
                    connectorRef: ronakgcpbucket
                    bucket: migration-artifact-comman
                    key: node-dependency-cache-{{ checksum "package-lock.json" }}
                    archiveFormat: Tar
                  when:
                    stageStatus: Success
                  failureStrategies: []
              - step:
                  identifier: install_and_Build_react
                  type: Run
                  name: install and Build react
                  spec:
                    shell: Bash
                    command: |-
                      npm install
                      npm run build
              - step:
                  identifier: Save_node_modules_cache
                  type: SaveCacheGCS
                  name: Save node_modules cache
                  spec:
                    connectorRef: ronakgcpbucket
                    bucket: migration-artifact-comman
                    key: depennode-dency-cache-{{ checksum "package-lock.json" }}
                    sourcePaths:
                      - node_modules
                      - build
                    archiveFormat: Tar
              - step:
                  type: Run
                  name: Deploy
                  identifier: Deploy
                  spec:
                    shell: Sh
                    command: |-
                      npm install netlify-cli -g
                      netlify deploy --site $NETLIFY_SITE_ID --auth $NETLIFY_ACCESS_TOKEN --prod --dir=build
                    envVariables:
                      NETLIFY_ACCESS_TOKEN: <+secrets.getValue("token")>
                      NETLIFY_SITE_ID: <+secrets.getValue("siteid")>
          sharedPaths:
            - /home/ubuntu/
        when:
          pipelineStatus: Success
```
